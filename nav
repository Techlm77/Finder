#!/bin/bash

# Version of the nav script
NAV_VERSION="1.0.0"

# Function to compare version numbers
compare_versions() {
    if [[ $1 == $2 ]]; then
        echo 0  # Versions are the same
    else
        local IFS=.
        local i ver1=($1) ver2=($2)
        for ((i = 0; i < 3; i++)); do
            if [[ -z ${ver1[i]} ]]; then
                ver1[i]=0
            fi
            if [[ -z ${ver2[i]} ]]; then
                ver2[i]=0
            fi
            if ((10#${ver1[i]} < 10#${ver2[i]})); then
                echo -1  # Local version is lower
                return
            elif ((10#${ver1[i]} > 10#${ver2[i]})); then
                echo 1   # Local version is higher
                return
            fi
        done
        echo 0  # Versions are the same
    fi
}

# Function to navigate to the found location
navigate_to() {
    local target="$1"
    cd "$target"
    echo "You are now in: $(pwd)"
}

# Prompt the user for the search term
read -p "Enter the file or folder name: " search_term

# Search for the file or folder starting from the root directory '/'
result=$(find / -name "$search_term" 2>/dev/null)

# Check if the search was successful
if [ -n "$result" ]; then
    echo "Found: $result"
    # Ask the user if they want to navigate to the found location
    read -p "Do you want to navigate to this location? (y/n): " choice
    if [ "$choice" == "y" ] || [ "$choice" == "Y" ]; then
        navigate_to "$(dirname "$result")"
    fi
else
    echo "File or folder not found."
fi

# Display the script version
echo "nav version: $NAV_VERSION"
